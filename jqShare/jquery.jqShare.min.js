var JqShare=null;(function(a){JqShare=function(c,b){this.elem=c;this.$elem=a(c);this.options=b;this.metadata=this.$elem.data("plugin-options")};JqShare.prototype={defaults:{linkSelector:"._link-share-",data:{url:window.location.href||"",title:a("title").text()||"",image:a("img:first").attr("src")||""}},init:function(b){this.container=b;this.config=a.extend({},this.defaults,this.options,this.metadata);this.data=this.config.data;this.update();return this},setData:function(b,c){if(typeof c==="undefined"){c=false}if(c){this.data=a.extend(this.data,b)}else{this.data=b}return this},update:function(){var b,d,c,e;for(b in this.services){if(this.services.hasOwnProperty(b)){e=this.services[b];d={url:this.data["url-"+b]||this.data.url,title:this.data["title-"+b]||this.data.title,image:this.data["image-"+b]||this.data.image};for(c in d){e=e.replace(new RegExp("\\$\\{"+c+"\\}","gi"),encodeURIComponent(d[c]))}this.container.find(this.config.linkSelector+b).attr("href",e)}}return this}};JqShare.defaults=JqShare.prototype.defaults;JqShare.prototype.services={facebook:"https://www.facebook.com/sharer.php?u=${url}&t=${title}",twitter:"http://twitter.com/home?status=${url}%20-%20${title}",google:"https://plus.google.com/share?url=${url}",pinterest:"http://pinterest.com/pin/create/button/?url=${url}&media=${image}&description=${title}"};a.fn.jqShare=function(b){return this.each(function(){a(this).data("jqShare",new JqShare(this,b).init(a(this)))})}})(jQuery);