(function(b){var a=function(d,c){this.elem=d;this.$elem=b(d);this.options=c;this.metadata=this.$elem.data("plugin-options")};a.prototype={defaults:{linkSelector:"._link-share-"},services:{facebook:"https://www.facebook.com/sharer.php?u=${url}&t=${title}",twitter:"http://twitter.com/home?status=${url}%20-%20${title}",google:"https://plus.google.com/share?url=${url}",pinterest:"http://pinterest.com/pin/create/button/?url=${url}&media=${image}&description=${title}"},init:function(c){this.container=c;this.config=b.extend({},this.defaults,this.options,this.metadata);this.data=this.config.data||{url:"",title:"",image:""};this.update();return this},setData:function(c,d){if(typeof(d)=="undefined"){d=false}if(d){this.data=b.extend(this.data,c)}else{this.data=c}},update:function(){var c,e,d;for(c in this.services){currentUrl=this.services[c];e={url:this.data["url-"+c]||this.data.url,title:this.data["title-"+c]||this.data.title,image:this.data["image-"+c]||this.data.image};for(d in e){currentUrl=currentUrl.replace(new RegExp("\\$\\{"+d+"\\}","gi"),encodeURIComponent(e[d]))}this.container.find(this.config.linkSelector+c).attr("href",currentUrl)}}};a.defaults=a.prototype.defaults;b.fn.jqShare=function(c){return this.each(function(){b(this).data("jqShare",new a(this,c).init(b(this)))})}})(jQuery);